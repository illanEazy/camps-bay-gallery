<!-- ==========================================================================
   HEADER COMPONENT - REUSABLE NAVIGATION (Matches Original Index.html)
   ========================================================================== -->

   <nav>
    <div class="nav-top">
        <div class="logo">Camps Bay Art Gallery</div>
        <ul class="menu-items">
            <li><a href="{% url 'home' %}">Home</a></li>
            <li><a href="{% url 'about' %}">About Us</a></li> <!-- CHANGED FROM #visit -->
            <li class="dropdown">
                <a href="{% url 'artists' %}">Artists</a>
                <div class="dropdown-content">
                    <!-- Dynamic artist links -->
                    {% for artist in artists|slice:":6" %}  <!-- REUSED from context processor -->
                    <a href="{% url 'artist_detail' artist.id %}">{{ artist.first_name }} {{ artist.last_name }}</a>
                    {% endfor %}
                    <div class="dropdown-divider"></div>
                    <a href="{% url 'artists' %}">View All Artists</a>
                </div>
            </li>
            <li><a href="{% url 'artworks' %}">Artworks</a></li>
            <li><a href="{% url 'contact' %}">Contact Us</a></li>
            
            <!-- ADMIN DASHBOARD LINK (Visible only to owners) -->
            {% if user.is_authenticated and user.is_owner %}
            <li><a href="{% url 'admin_dashboard' %}">Admin Dashboard</a></li>
            {% endif %}
        </ul>
    </div>
    <div class="nav-bottom">
        <div class="nav-icons">
            <a href="#" class="nav-icon-link">
                <i class="fas fa-search"></i>
            </a>
            <a href="{% url 'cart' %}" class="nav-icon-link cart-icon" title="Shopping Cart">
                <i class="fas fa-shopping-cart"></i>
                {% if cart_count > 0 %}
                <span class="cart-count">{{ cart_count }}</span>
                {% endif %}
            </a>
            <!-- USER ICON - Links to profile for customers, admin dashboard for owners -->
            {% if user.is_authenticated %}
                {% if user.is_owner %}
                <a href="{% url 'admin_dashboard' %}" class="nav-icon-link" title="Admin Dashboard">
                    <i class="fas fa-user-shield"></i>
                </a>
                {% else %}
                <a href="{% url 'profile' %}" class="nav-icon-link" title="My Profile">
                    <i class="fas fa-user"></i>
                </a>
                {% endif %}
            {% else %}
            <a href="{% url 'login' %}" class="nav-icon-link">
                <i class="fas fa-user"></i>
            </a>
            {% endif %}
        </div>
    </div>
</nav>